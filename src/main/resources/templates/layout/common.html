<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org/"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="stylesheet" href="/css/bootstrap.min.css">
<title>共通レイアウト</title>
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-light mb-3">
	<a href="/" class="navbar-brand">家計簿app</a>

	
	<div>
		<span class="navbar-text" sec:authorize="isAuthenticated()">
			ログインユーザID: <span sec:authentication="name"></span>
		</span>
	</div>
	<ul class="navbar-nav">
	<!-- ログイン前 -->
		<li class="nav-item" sec:authorize="!isAuthenticated()">
			<a href="/loginForm" class="nav-link">ログイン</a>
		</li>
	<!-- ログイン後　-->
		<li class="nav-item" sec:authorize="isAuthenticated()">
			<form th:action="@{/index}" method="get" class="form-inline">
				<input type="submit" value="トップ" class="btn">
			</form>
		</li>
		<li class="nav-item" sec:authorize="isAuthenticated()">
			<form th:action="@{/currentMonthTotal}" method="get" class="form-inline">
				<input type="submit" value="一覧" class="btn">
			</form>
		</li>
		<li class="nav-item" sec:authorize="isAuthenticated()">
			<form th:action="@{/logout}" method="post" class="form-inline">
				<input type="submit" value="ログアウト" class="btn">
			</form>
		</li>
	</ul>
</nav>
<div class="container-fluid">
	<div layout:fragment="contents"></div>
</div>
</body>
</html>
